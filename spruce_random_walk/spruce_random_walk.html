<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Ein Zielloserspaziergangsweihnachtsbaum</title>
    <meta charset="utf-8" />
    <meta name="author" content="Gina Reynolds, Dec 25, 2019" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Ein Zielloserspaziergangsweihnachtsbaum
## or <em>Sprucing up a random-walk with ggplot2!</em>
### Gina Reynolds, Dec 25, 2019

---



# Preface

Thought I'd write some of this in German, but mine's not so strong. So in the end, there's not so much German --- just the intro.  Thanks to the helpful feedback from friends, which helped rid text especially of lots of declension problems.  Remaining errors (is "zielloser Spaziergang"" even correct?) are, of course, mine!

---

# Introduction

Zu Weihnachten kann man einen Weihnachtsbaum aus einem ziellosen Spaziergang (random walk) machen. Was ist ein zielloser Spaziergang?  Und wie macht man einen Weihnachtsbaum daraus?

Ein zielloser Spaziergang verfolgt die Bewegungen von einem Objekt, das in verschiedenen Zeitperioden zufällig bewegt wird. Wenn wir die Bewegungen in eine Dimension von vielen Objekten verfolgen, und die Zeit wie eine andere Dimension zeigen, und wenn alle Objekten von dem gleichen Platz anfangen, sieht es aus wie ein Weihnachtsbaum!   Schön!  

Also, normalerweise macht man dieses Bild des ziellosen Spaziergangs mit den Zeitabschnitten auf der x-Achse.  Aber wir müssen es auf der y-Achse machen, sodass es wie ein Weihnachtsbaum aussieht.  Und natürlich müssen wir ihn in Farben tauchen.  Dafür nutzen wir verschiedene Grüne.  Und natürlich brauchen wir Dekorationen.  Und wir brauchen auch einen Stern oben drauf!  Unser Zielloserspaziergangsweihnachtsbaum sieht echt toll aus!  Was für ein Glück!


---





---

class: split-40
count: false

.column[.content[

```r
*set.seed(93478)
*library(tidyverse)
* # generate random walk
*tibble(id = 1:400) %&gt;%
* crossing(time = 1:150) %&gt;%
* mutate(displace = rnorm(n = dplyr::n())) %&gt;%
* mutate(displace =
*          case_when(time == 1 ~ 0,
*                    time != 1 ~ displace)) %&gt;%
* group_by(id) %&gt;%
* mutate(cum_displace = cumsum(displace)) %&gt;%
* ungroup()
```
]]
.column[.content[

```
# A tibble: 60,000 x 4
      id  time displace cum_displace
   &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;        &lt;dbl&gt;
 1     1     1    0            0    
 2     1     2    1.24         1.24 
 3     1     3   -0.179        1.06 
 4     1     4   -0.404        0.657
 5     1     5    0.975        1.63 
 6     1     6    0.214        1.85 
 7     1     7    2.23         4.07 
 8     1     8   -0.505        3.57 
 9     1     9   -1.41         2.16 
10     1    10    1.00         3.17 
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
*data
```
]]
.column[.content[

]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
* # the "usual" plot of random walk data
* ggplot(data = data) +
* aes(x = time) +
* aes(y = cum_displace) +
* geom_line(size = .25) +
* aes(group = id)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_3_user-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
* # sprucing up
* coord_flip() +
* scale_x_reverse() +
* aes(color = displace) +
* scale_color_gradient2(low = "chartreuse1",
*                       mid = "darkgreen",
*                       high = "darkolivegreen",
*                       guide = F) +
* theme_void() +
* theme(plot.background =
*         element_rect(fill = "goldenrod4",
*                      color = "darkred",
*                      size = 5))
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_4_user-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
  theme_void() +  
  theme(plot.background =  
          element_rect(fill = "goldenrod4",  
                       color = "darkred",  
                       size = 5)) +  
* # decorate
* geom_point(data = data %&gt;%
*              sample_frac(size = .001),
*            color = "plum3",
*            alpha = .7) +
* geom_point(data = data %&gt;%
*              sample_frac(size = .001),
*            color = "steelblue",
*            alpha = .8) +
* # star
* annotate(geom = "point",
*          x = 0,
*          y = 0,
*          shape = c("square", "diamond"),
*          size = c(2,3)*2,
*          color = "grey"
*          )
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_5_user-1.png)&lt;!-- --&gt;
]]

---

class: split-40
count: false

.column[.content[

```r
*set.seed(93478)
```
]]
.column[.content[

]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
*library(tidyverse)
```
]]
.column[.content[

]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
* # generate random walk
*tibble(id = 1:400)
```
]]
.column[.content[

```
# A tibble: 400 x 1
      id
   &lt;int&gt;
 1     1
 2     2
 3     3
 4     4
 5     5
 6     6
 7     7
 8     8
 9     9
10    10
# … with 390 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
* crossing(time = 1:150)
```
]]
.column[.content[

```
# A tibble: 60,000 x 2
      id  time
   &lt;int&gt; &lt;int&gt;
 1     1     1
 2     1     2
 3     1     3
 4     1     4
 5     1     5
 6     1     6
 7     1     7
 8     1     8
 9     1     9
10     1    10
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
* mutate(displace = rnorm(n = dplyr::n()))
```
]]
.column[.content[

```
# A tibble: 60,000 x 3
      id  time displace
   &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;
 1     1     1  -0.0970
 2     1     2   1.24  
 3     1     3  -0.179 
 4     1     4  -0.404 
 5     1     5   0.975 
 6     1     6   0.214 
 7     1     7   2.23  
 8     1     8  -0.505 
 9     1     9  -1.41  
10     1    10   1.00  
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
* mutate(displace =
*          case_when(time == 1 ~ 0,
*                    time != 1 ~ displace))
```
]]
.column[.content[

```
# A tibble: 60,000 x 3
      id  time displace
   &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;
 1     1     1    0    
 2     1     2    1.24 
 3     1     3   -0.179
 4     1     4   -0.404
 5     1     5    0.975
 6     1     6    0.214
 7     1     7    2.23 
 8     1     8   -0.505
 9     1     9   -1.41 
10     1    10    1.00 
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
* group_by(id)
```
]]
.column[.content[

```
# A tibble: 60,000 x 3
# Groups:   id [400]
      id  time displace
   &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;
 1     1     1    0    
 2     1     2    1.24 
 3     1     3   -0.179
 4     1     4   -0.404
 5     1     5    0.975
 6     1     6    0.214
 7     1     7    2.23 
 8     1     8   -0.505
 9     1     9   -1.41 
10     1    10    1.00 
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
* mutate(cum_displace = cumsum(displace))
```
]]
.column[.content[

```
# A tibble: 60,000 x 4
# Groups:   id [400]
      id  time displace cum_displace
   &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;        &lt;dbl&gt;
 1     1     1    0            0    
 2     1     2    1.24         1.24 
 3     1     3   -0.179        1.06 
 4     1     4   -0.404        0.657
 5     1     5    0.975        1.63 
 6     1     6    0.214        1.85 
 7     1     7    2.23         4.07 
 8     1     8   -0.505        3.57 
 9     1     9   -1.41         2.16 
10     1    10    1.00         3.17 
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
* ungroup()
```
]]
.column[.content[

```
# A tibble: 60,000 x 4
      id  time displace cum_displace
   &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;        &lt;dbl&gt;
 1     1     1    0            0    
 2     1     2    1.24         1.24 
 3     1     3   -0.179        1.06 
 4     1     4   -0.404        0.657
 5     1     5    0.975        1.63 
 6     1     6    0.214        1.85 
 7     1     7    2.23         4.07 
 8     1     8   -0.505        3.57 
 9     1     9   -1.41         2.16 
10     1    10    1.00         3.17 
# … with 59,990 more rows
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
*data
```
]]
.column[.content[

]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
* # the "usual" plot of random walk data
* ggplot(data = data)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_11_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
* aes(x = time)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_12_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
* aes(y = cum_displace)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_13_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
* geom_line(size = .25)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_14_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
* aes(group = id)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_15_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
* # sprucing up
* coord_flip()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_16_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
* scale_x_reverse()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_17_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
* aes(color = displace)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_18_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
* scale_color_gradient2(low = "chartreuse1",
*                       mid = "darkgreen",
*                       high = "darkolivegreen",
*                       guide = F)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_19_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
* theme_void()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_20_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
  theme_void() +  
* theme(plot.background =
*         element_rect(fill = "goldenrod4",
*                      color = "darkred",
*                      size = 5))
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_21_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
  theme_void() +  
  theme(plot.background =  
          element_rect(fill = "goldenrod4",  
                       color = "darkred",  
                       size = 5)) +  
* # decorate
* geom_point(data = data %&gt;%
*              sample_frac(size = .001),
*            color = "plum3",
*            alpha = .7)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_22_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
  theme_void() +  
  theme(plot.background =  
          element_rect(fill = "goldenrod4",  
                       color = "darkred",  
                       size = 5)) +  
  # decorate
  geom_point(data = data %&gt;%  
               sample_frac(size = .001),  
             color = "plum3",  
             alpha = .7) +  
* geom_point(data = data %&gt;%
*              sample_frac(size = .001),
*            color = "steelblue",
*            alpha = .8)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_23_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
tibble(id = 1:400) %&gt;%  
  crossing(time = 1:150) %&gt;%  
  mutate(displace = rnorm(n = dplyr::n())) %&gt;%  
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  group_by(id) %&gt;%  
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  ungroup() -&gt;  
data  
  # the "usual" plot of random walk data
  ggplot(data = data) +  
  aes(x = time) +  
  aes(y = cum_displace) +  
  geom_line(size = .25) +  
  aes(group = id) +  
  # sprucing up
  coord_flip() +  
  scale_x_reverse() +  
  aes(color = displace) +  
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
  theme_void() +  
  theme(plot.background =  
          element_rect(fill = "goldenrod4",  
                       color = "darkred",  
                       size = 5)) +  
  # decorate
  geom_point(data = data %&gt;%  
               sample_frac(size = .001),  
             color = "plum3",  
             alpha = .7) +  
  geom_point(data = data %&gt;%  
               sample_frac(size = .001),  
             color = "steelblue",  
             alpha = .8) +  
* # star
* annotate(geom = "point",
*          x = 0,
*          y = 0,
*          shape = c("square", "diamond"),
*          size = c(2,3)*2,
*          color = "grey"
*          )
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_random_walk_xmas_tree_24_auto-1.png)&lt;!-- --&gt;
]]





---

# A tiny tree

Let's also make sure we can understand that code to build the random walk data.

---

class: split-40
count: false

.column[.content[

```r
*set.seed(93478)
```
]]
.column[.content[

]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
*library(tidyverse)
```
]]
.column[.content[

]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
* # generate random walk
* # two individuals
*tibble(id = 1:2)
```
]]
.column[.content[

```
# A tibble: 2 x 1
     id
  &lt;int&gt;
1     1
2     2
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
* # observed over four time periods
* crossing(time = 1:4)
```
]]
.column[.content[

```
# A tibble: 8 x 2
     id  time
  &lt;int&gt; &lt;int&gt;
1     1     1
2     1     2
3     1     3
4     1     4
5     2     1
6     2     2
7     2     3
8     2     4
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
* # perturbed at each time period
* mutate(displace = rnorm(n = n()))
```
]]
.column[.content[

```
# A tibble: 8 x 3
     id  time displace
  &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;
1     1     1  -0.0970
2     1     2   1.24  
3     1     3  -0.179 
4     1     4  -0.404 
5     2     1   0.975 
6     2     2   0.214 
7     2     3   2.23  
8     2     4  -0.505 
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
* # but not in the very first time period
* mutate(displace =
*          case_when(time == 1 ~ 0,
*                    time != 1 ~ displace))
```
]]
.column[.content[

```
# A tibble: 8 x 3
     id  time displace
  &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;
1     1     1    0    
2     1     2    1.24 
3     1     3   -0.179
4     1     4   -0.404
5     2     1    0    
6     2     2    0.214
7     2     3    2.23 
8     2     4   -0.505
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
* # for each individual
* group_by(id)
```
]]
.column[.content[

```
# A tibble: 8 x 3
# Groups:   id [2]
     id  time displace
  &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;
1     1     1    0    
2     1     2    1.24 
3     1     3   -0.179
4     1     4   -0.404
5     2     1    0    
6     2     2    0.214
7     2     3    2.23 
8     2     4   -0.505
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
* # track the cummulative permutations
* mutate(cum_displace = cumsum(displace))
```
]]
.column[.content[

```
# A tibble: 8 x 4
# Groups:   id [2]
     id  time displace cum_displace
  &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;        &lt;dbl&gt;
1     1     1    0            0    
2     1     2    1.24         1.24 
3     1     3   -0.179        1.06 
4     1     4   -0.404        0.657
5     2     1    0            0    
6     2     2    0.214        0.214
7     2     3    2.23         2.44 
8     2     4   -0.505        1.94 
```
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
* # pipe data to a plot
* ggplot()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_9_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
* # time on on x-axis is classic figure
* aes(x = time)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_10_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
* # and displacement on y-axis
* aes(y = cum_displace)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_11_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
* # geoms to be done within id
* geom_line(size = .25)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_12_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
* # lines should be within id
* aes(group = id)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_13_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
  # lines should be within id
  aes(group = id) +  
* # sprucing up - make it look like a tree
* # change x and y axes
* coord_flip()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_14_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
  # lines should be within id
  aes(group = id) +  
  # sprucing up - make it look like a tree
  # change x and y axes
  coord_flip() +  
* # and reverse x axis
* scale_x_reverse()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_15_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
  # lines should be within id
  aes(group = id) +  
  # sprucing up - make it look like a tree
  # change x and y axes
  coord_flip() +  
  # and reverse x axis
  scale_x_reverse() +  
* # make it colorful
* aes(color = displace)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_16_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
  # lines should be within id
  aes(group = id) +  
  # sprucing up - make it look like a tree
  # change x and y axes
  coord_flip() +  
  # and reverse x axis
  scale_x_reverse() +  
  # make it colorful
  aes(color = displace) +  
* # let the colors be green
* scale_color_gradient2(low = "chartreuse1",
*                       mid = "darkgreen",
*                       high = "darkolivegreen",
*                       guide = F)
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_17_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
  # lines should be within id
  aes(group = id) +  
  # sprucing up - make it look like a tree
  # change x and y axes
  coord_flip() +  
  # and reverse x axis
  scale_x_reverse() +  
  # make it colorful
  aes(color = displace) +  
  # let the colors be green
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
* # make it not look like a plot
* theme_void()
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_18_auto-1.png)&lt;!-- --&gt;
]]
---
class: split-40
count: false

.column[.content[

```r
set.seed(93478)  
library(tidyverse)  
  # generate random walk
  # two individuals
tibble(id = 1:2) %&gt;%  
  # observed over four time periods
  crossing(time = 1:4) %&gt;%  
  # perturbed at each time period
  mutate(displace = rnorm(n = n())) %&gt;%  
  # but not in the very first time period
  mutate(displace =  
           case_when(time == 1 ~ 0,  
                     time != 1 ~ displace)) %&gt;%  
  # for each individual
  group_by(id) %&gt;%  
  # track the cummulative permutations
  mutate(cum_displace = cumsum(displace)) %&gt;%  
  # pipe data to a plot
  ggplot() +  
  # time on on x-axis is classic figure
  aes(x = time) +  
  # and displacement on y-axis
  aes(y = cum_displace) +  
  # geoms to be done within id
  geom_line(size = .25) +  
  # lines should be within id
  aes(group = id) +  
  # sprucing up - make it look like a tree
  # change x and y axes
  coord_flip() +  
  # and reverse x axis
  scale_x_reverse() +  
  # make it colorful
  aes(color = displace) +  
  # let the colors be green
  scale_color_gradient2(low = "chartreuse1",  
                        mid = "darkgreen",  
                        high = "darkolivegreen",  
                        guide = F) +  
  # make it not look like a plot
  theme_void() +  
* # and festive!
* theme(plot.background =
*         element_rect(fill = "goldenrod4",
*                      color = "darkred",
*                      size = 5))
```
]]
.column[.content[
![](spruce_random_walk_files/figure-html/output_tree_mini_19_auto-1.png)&lt;!-- --&gt;
]]





---

# Some of the tooling

- R
- dplyr
- ggplot2
- flipboor w/ xaringan!


&lt;style type="text/css"&gt;
.remark-code{line-height: 1.5; font-size: 42%}
&lt;/style&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:10",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
